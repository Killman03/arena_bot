# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —á–µ–ª–ª–µ–Ω–¥–∂–µ–π

## –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑—ã–≤–∞—Ç—å –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–ª—è —á–µ–ª–ª–µ–Ω–¥–∂–µ–π. –ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞ —Å –¥–∞—Ç–æ–π –æ–∫–æ–Ω—á–∞–Ω–∏—è
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ–ª–ª–µ–Ω–¥–∂–∞ —Ç–µ–ø–µ—Ä—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- –§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã: –î–î.–ú–ú.–ì–ì–ì–ì
- –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å, —É–∫–∞–∑–∞–≤ "-" (—á–µ–ª–ª–µ–Ω–¥–∂ –±–µ–∑ —Å—Ä–æ–∫–∞)

### 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è
- –í —Å–ø–∏—Å–∫–µ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (–¥–æ –î–î.–ú–ú)
- –í –¥–µ—Ç–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- –ï—Å–ª–∏ —Å—Ä–æ–∫ –Ω–µ —É–∫–∞–∑–∞–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ë–µ–∑ —Å—Ä–æ–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è"

### 3. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üìÖ –ò–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è" –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ
- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –∏–ª–∏ —É–±—Ä–∞—Ç—å —Å—Ä–æ–∫

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 00:01 –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∏—Å—Ç–µ–∫—à–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- –ò—Å—Ç–µ–∫—à–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `end_date` –≤ —Ç–∞–±–ª–∏—Ü—É `challenge`
- –¢–∏–ø: `Date`, nullable (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL)

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `app/services/challenge_cleanup.py` - —Å–µ—Ä–≤–∏—Å –æ—á–∏—Å—Ç–∫–∏ –∏—Å—Ç–µ–∫—à–∏—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `app/db/models/challenge.py` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ end_date
- `app/handlers/challenges.py` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `app/keyboards/common.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã
- `app/utils/scheduler.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–∞—á–∞ –æ—á–∏—Å—Ç–∫–∏

## –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
# –í –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
alembic upgrade head
```

### –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
alembic downgrade 001
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞ –Ω–∞ 30 –¥–Ω–µ–π
1. –í—ã–±–µ—Ä–∏—Ç–µ "üèÜ –ß–µ–ª–ª–µ–Ω–¥–∂–∏" ‚Üí "‚ûï –î–æ–±–∞–≤–∏—Ç—å"
2. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "30 –¥–Ω–µ–π –±–µ–∑ —Å–∞—Ö–∞—Ä–∞"
3. –í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–∫–ª—é—á–∏—Ç—å —Å–∞—Ö–∞—Ä –∏–∑ —Ä–∞—Ü–∏–æ–Ω–∞"
4. –í–≤–µ–¥–∏—Ç–µ –≤—Ä–µ–º—è: "08:00"
5. –í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è: "30.01.2025"

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è
1. –û—Ç–∫—Ä–æ–π—Ç–µ —á–µ–ª–ª–µ–Ω–¥–∂
2. –ù–∞–∂–º–∏—Ç–µ "üìÖ –ò–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è"
3. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é –¥–∞—Ç—É –∏–ª–∏ "-" –¥–ª—è –æ—Ç–º–µ–Ω—ã —Å—Ä–æ–∫–∞

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
‚è∞ –í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ!

–°–ª–µ–¥—É—é—â–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã:
‚Ä¢ 30 –¥–Ω–µ–π –±–µ–∑ —Å–∞—Ö–∞—Ä–∞

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º! üéâ
–ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ü–µ–ª–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è.
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤ –±—É–¥—É—â–µ–º
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –æ—á–∏—Å—Ç–∫–∏
